// js/services/firestore-service.js
// ============================================================
// Servi√ßo de Firestore e Cole√ß√µes - SEMCAS
// ============================================================

import { collection } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
import { db, APP_ID } from "../firebase-config.js";

// ============================================================
// DEFINI√á√ÉO DAS COLE√á√ïES PADR√ÉO
// ============================================================

// Caminho base das cole√ß√µes (cada app isolado pelo APP_ID)
const basePath = `artifacts/${APP_ID}/public/data`;
console.log("üìÅ Caminho base Firestore:", basePath);

// ============================================================
// MAPEAMENTO DAS COLE√á√ïES DO SISTEMA
// ============================================================

const COLLECTIONS = {
  unidades: collection(db, `${basePath}/unidades`),
  aguaMov: collection(db, `${basePath}/controleAgua`),
  gasMov: collection(db, `${basePath}/controleGas`),
  materiais: collection(db, `${basePath}/controleMateriais`),
  estoqueAgua: collection(db, `${basePath}/estoqueAgua`),
  estoqueGas: collection(db, `${basePath}/estoqueGas`)
};

// ============================================================
// EXPORTS
// ============================================================

export { db, COLLECTIONS };
